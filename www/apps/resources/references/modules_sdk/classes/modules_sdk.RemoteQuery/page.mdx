import { TypeList } from "docs-ui"

# RemoteQuery

## constructor

### Parameters

<TypeList types={[{"name":"__namedParameters","type":"`object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"entitiesMap","type":"Map&#60;string, any&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"modulesLoaded","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"__joinerConfig","type":"[ModuleJoinerConfig](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.ModuleJoinerConfig/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"__definition","type":"[ModuleDefinition](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.ModuleDefinition/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"customRemoteFetchData","type":"`RemoteFetchDataCallback`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"servicesConfig","type":"[ModuleJoinerConfig](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.ModuleJoinerConfig/page.mdx)[]","description":"","optional":true,"defaultValue":"[]","expandable":false,"children":[{"name":"schema","type":"`string`","description":"GraphQL schema for the all module's available entities and fields","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"relationships","type":"[ModuleJoinerRelationship](../../../types/ModulesSdkTypes/types/types.ModulesSdkTypes.ModuleJoinerRelationship/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extends","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"serviceName","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"primaryKeys","type":"`string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isLink","type":"`boolean`","description":"If the module is a link module","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"linkableKeys","type":"`Record<string, string>`","description":"Keys that can be used to link to other modules. e.g &#123; product\\_id: \"Product\" &#125; \"Product\" being the entity it refers to","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isReadOnlyLink","type":"`boolean`","description":"If true it expands a RemoteQuery property but doesn't create a pivot table","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extraDataFields","type":"`string`[]","description":"Fields that will be part of the link record aside from the primary keys that can be updated\nIf not explicitly defined, this array will be populated by databaseConfig.extraFields","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"databaseConfig","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="new RemoteQuery"/>

___

## Properties

<TypeList types={[{"name":"traceFetchRemoteData","type":"(`fetcher`: () => Promise&#60;any&#62;, `serviceName`: `string`, `method`: `string`, `options`: ``{ select?: string[] ; relations: string[]  }``) => Promise&#60;any&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="RemoteQuery"/>

___

## Methods

### getEntitiesMap

#### Returns

<TypeList types={[{"name":"Map","type":"Map&#60;string, any&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"string","type":"`string`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]},{"name":"any","type":"`any`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="getEntitiesMap"/>

### setFetchDataCallback

#### Parameters

<TypeList types={[{"name":"remoteFetchData","type":"(`expand`: [RemoteExpandProperty](../../../types/interfaces/types.RemoteExpandProperty/page.mdx), `keyField`: `string`, `ids?`: `unknown`[], `relationship?`: `any`) => Promise&#60;&#123; data: unknown[] \\| &#123; [path: string]: unknown[];  &#125; ; path?: string  &#125;&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="setFetchDataCallback"/>

#### Returns

<TypeList types={[{"name":"void","type":"`void`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="setFetchDataCallback"/>

### getAllFieldsAndRelations

#### Parameters

<TypeList types={[{"name":"expand","type":"[RemoteExpandProperty](../../../types/interfaces/types.RemoteExpandProperty/page.mdx) \\| `object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"property","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"parent","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"serviceConfig","type":"[InternalJoinerServiceConfig](../../../types/types/types.InternalJoinerServiceConfig/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"serviceName","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"primaryKeys","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"alias","type":"[JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx) \\| [JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx)[]","description":"Property name to use as entrypoint to the service","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fieldAlias","type":"`Record<string, string \\| object>`","description":"alias for deeper nested relationships (e.g. &#123; 'price': 'prices.calculated\\_price\\_set.amount' &#125;)","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extends","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"`Record<string, any>`","description":"Extra arguments to pass to the remoteFetchData callback","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"relationships","type":"Map&#60;string, [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx) \\| [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx)[]&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"entity","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"parentConfig","type":"[InternalJoinerServiceConfig](../../../types/types/types.InternalJoinerServiceConfig/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"serviceName","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"primaryKeys","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"alias","type":"[JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx) \\| [JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx)[]","description":"Property name to use as entrypoint to the service","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fieldAlias","type":"`Record<string, string \\| object>`","description":"alias for deeper nested relationships (e.g. &#123; 'price': 'prices.calculated\\_price\\_set.amount' &#125;)","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extends","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"`Record<string, any>`","description":"Extra arguments to pass to the remoteFetchData callback","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"relationships","type":"Map&#60;string, [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx) \\| [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx)[]&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"entity","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"entity","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fields","type":"`string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"expands","type":"[RemoteNestedExpands](../../../types/interfaces/types.RemoteNestedExpands/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fields","type":"`string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"expands","type":"[RemoteNestedExpands](../../../types/interfaces/types.RemoteNestedExpands/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"prefix","type":"`string`","description":"","optional":false,"defaultValue":"\"\"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="getAllFieldsAndRelations"/>

#### Returns

<TypeList types={[{"name":"relations","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"select","type":"`string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"take","type":"`null` \\| `number`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="getAllFieldsAndRelations"/>

<TypeList types={[{"name":"relations","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"select","type":"`string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"take","type":"`null` \\| `number`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="getAllFieldsAndRelations"/>

### remoteFetchData

#### Parameters

<TypeList types={[{"name":"expand","type":"[RemoteExpandProperty](../../../types/interfaces/types.RemoteExpandProperty/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"property","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"parent","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"serviceConfig","type":"[InternalJoinerServiceConfig](../../../types/types/types.InternalJoinerServiceConfig/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"serviceName","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"primaryKeys","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"alias","type":"[JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx) \\| [JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx)[]","description":"Property name to use as entrypoint to the service","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fieldAlias","type":"`Record<string, string \\| object>`","description":"alias for deeper nested relationships (e.g. &#123; 'price': 'prices.calculated\\_price\\_set.amount' &#125;)","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extends","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"`Record<string, any>`","description":"Extra arguments to pass to the remoteFetchData callback","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"relationships","type":"Map&#60;string, [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx) \\| [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx)[]&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"entity","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"parentConfig","type":"[InternalJoinerServiceConfig](../../../types/types/types.InternalJoinerServiceConfig/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"serviceName","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"primaryKeys","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"alias","type":"[JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx) \\| [JoinerServiceConfigAlias](../../../types/interfaces/types.JoinerServiceConfigAlias/page.mdx)[]","description":"Property name to use as entrypoint to the service","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fieldAlias","type":"`Record<string, string \\| object>`","description":"alias for deeper nested relationships (e.g. &#123; 'price': 'prices.calculated\\_price\\_set.amount' &#125;)","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"extends","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"`Record<string, any>`","description":"Extra arguments to pass to the remoteFetchData callback","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"relationships","type":"Map&#60;string, [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx) \\| [JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx)[]&#62;","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"entity","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"entity","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"fields","type":"`string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"expands","type":"[RemoteNestedExpands](../../../types/interfaces/types.RemoteNestedExpands/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"keyField","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"ids","type":"`unknown`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"relationship","type":"[JoinerRelationship](../../../types/types/types.JoinerRelationship/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"alias","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"foreignKey","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"primaryKey","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"serviceName","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"entity","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"inverse","type":"`boolean`","description":"In an inverted relationship the foreign key is on the other service and the primary key is on the current service","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isList","type":"`boolean`","description":"Force the relationship to return a list","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"`Record<string, any>`","description":"Extra arguments to pass to the remoteFetchData callback","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="remoteFetchData"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;object&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"data","type":"`unknown`[] \\| `object`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"path","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="remoteFetchData"/>

### query

#### Parameters

<TypeList types={[{"name":"query","type":"`string` \\| `object` \\| [RemoteJoinerQuery](../../../types/interfaces/types.RemoteJoinerQuery/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"fields","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"service","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"alias","type":"`string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"expands","type":"`object`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"property","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"fields","type":"`string`[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"directives","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"args","type":"[JoinerArgument](../../../types/interfaces/types.JoinerArgument/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"name","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"value","type":"`any`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"directives","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"variables","type":"`Record<string, unknown>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"options","type":"[RemoteJoinerOptions](../../../types/interfaces/types.RemoteJoinerOptions/page.mdx)","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"throwIfKeyNotFound","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"throwIfRelationNotFound","type":"`boolean` \\| `string`[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="query"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;any&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"any","type":"`any`","optional":false,"defaultValue":"","description":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/v2/advanced-development/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="query"/>
